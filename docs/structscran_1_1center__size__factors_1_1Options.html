<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>scran_log_normalize_counts: scran::center_size_factors::Options Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">scran_log_normalize_counts
   </div>
   <div id="projectbrief">Normalize and log-transform counts</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacescran.html">scran</a></li><li class="navelem"><a class="el" href="namespacescran_1_1center__size__factors.html">center_size_factors</a></li><li class="navelem"><a class="el" href="structscran_1_1center__size__factors_1_1Options.html">Options</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structscran_1_1center__size__factors_1_1Options-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">scran::center_size_factors::Options Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="structscran_1_1center__size__factors_1_1Options.html" title="Options for compute() and compute_blocked().">Options</a> for <code><a class="el" href="namespacescran_1_1center__size__factors.html#a6c791f5cf852c4901e510e90af0d3744">compute()</a></code> and <code><a class="el" href="namespacescran_1_1center__size__factors.html#a38aec96b210a32eb97ae5c0f47fe861c">compute_blocked()</a></code>.  
 <a href="structscran_1_1center__size__factors_1_1Options.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="center__size__factors_8hpp_source.html">center_size_factors.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af7ee388030c9fc90893ef00926f7025a" id="r_af7ee388030c9fc90893ef00926f7025a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacescran_1_1center__size__factors.html#a7734640d4844a6a52efef03cc52d093f">BlockMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscran_1_1center__size__factors_1_1Options.html#af7ee388030c9fc90893ef00926f7025a">block_mode</a> = BlockMode::LOWEST</td></tr>
<tr class="separator:af7ee388030c9fc90893ef00926f7025a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eafa0dfb239ea3d0a5988ec36176dd6" id="r_a8eafa0dfb239ea3d0a5988ec36176dd6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscran_1_1center__size__factors_1_1Options.html#a8eafa0dfb239ea3d0a5988ec36176dd6">ignore_invalid</a> = true</td></tr>
<tr class="separator:a8eafa0dfb239ea3d0a5988ec36176dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="structscran_1_1center__size__factors_1_1Options.html" title="Options for compute() and compute_blocked().">Options</a> for <code><a class="el" href="namespacescran_1_1center__size__factors.html#a6c791f5cf852c4901e510e90af0d3744">compute()</a></code> and <code><a class="el" href="namespacescran_1_1center__size__factors.html#a38aec96b210a32eb97ae5c0f47fe861c">compute_blocked()</a></code>. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="af7ee388030c9fc90893ef00926f7025a" name="af7ee388030c9fc90893ef00926f7025a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7ee388030c9fc90893ef00926f7025a">&#9670;&#160;</a></span>block_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacescran_1_1center__size__factors.html#a7734640d4844a6a52efef03cc52d093f">BlockMode</a> scran::center_size_factors::Options::block_mode = BlockMode::LOWEST</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Strategy for handling blocks in <code><a class="el" href="namespacescran_1_1center__size__factors.html#a38aec96b210a32eb97ae5c0f47fe861c">compute_blocked()</a></code>.</p>
<p>With the <code>PER_BLOCK</code> strategy, size factors are scaled separately for each block so that they have a mean of 1 within each block. The scaled size factors are identical to those obtained by separate invocations of <code><a class="el" href="namespacescran_1_1center__size__factors.html#a6c791f5cf852c4901e510e90af0d3744">compute()</a></code> on the size factors for each block. This can be desirable to ensure consistency with independent analyses of each block - otherwise, the centering would depend on the size factors across all blocks. However, any systematic differences in the size factors between blocks are lost, i.e., systematic changes in coverage between blocks will not be normalized.</p>
<p>With the <code>LOWEST</code> strategy, we compute the mean size factor for each block and we divide all size factors by the minimum mean. In effect, we normalize across blocks by downscale all blocks to match the coverage of the lowest-coverage block. This is useful for datasets with highly heterogeneous coverage of different blocks as it avoids egregious upscaling of low-coverage blocks. (By contrast, downscaling is always safe as it simply discards information across all blocks by shrinking log-fold changes towards zero at low expression.) </p>

</div>
</div>
<a id="a8eafa0dfb239ea3d0a5988ec36176dd6" name="a8eafa0dfb239ea3d0a5988ec36176dd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eafa0dfb239ea3d0a5988ec36176dd6">&#9670;&#160;</a></span>ignore_invalid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool scran::center_size_factors::Options::ignore_invalid = true</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Whether to ignore invalid size factors when computing the mean size factor. Size factors of infinity and NaN or those with non-positive values may occur in datasets that have not been properly filtered to remove low-quality cells. If such values might be present, we can check for and ignore them during the mean calculations.</p>
<p>Note that this setting does not actually remove any of the invalid size factors. If these are present, users should call <code><a class="el" href="namespacescran_1_1sanitize__size__factors.html#a5aed65fe52d5abe25550519137805be7">sanitize_size_factors::compute()</a></code> after centering. The <code>diagnostics</code> value in <code><a class="el" href="namespacescran_1_1center__size__factors.html#a6c791f5cf852c4901e510e90af0d3744">compute()</a></code> and <code><a class="el" href="namespacescran_1_1center__size__factors.html#a38aec96b210a32eb97ae5c0f47fe861c">compute_blocked()</a></code> can be used to determine whether such a call is necessary. (In general, sanitization should be performed after centering so that the replacement size factors do not interfere with the mean calculations.)</p>
<p>If users know that invalid size factors cannot be present, they can set this flag to false for greater efficiency. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>scran/<a class="el" href="center__size__factors_8hpp_source.html">center_size_factors.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
